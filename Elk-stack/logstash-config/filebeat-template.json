{
   "index_patterns":"k8s-filebeat-*",
   "settings":{
      "index":{
         "number_of_shards":"3",
         "number_of_replicas":"1"
      }
   },
   "mappings":{
      "_meta":{
         "beat":"filebeat",
         "version":"7.8.1"
      },
      "dynamic_templates":[
         {
            "labels":{
               "path_match":"labels.*",
               "match_mapping_type":"string",
               "mapping":{
                  "type":"keyword"
               }
            }
         },
         {
            "container.labels":{
               "path_match":"container.labels.*",
               "match_mapping_type":"string",
               "mapping":{
                  "type":"keyword"
               }
            }
         },
         {
            "fields":{
               "path_match":"fields.*",
               "match_mapping_type":"string",
               "mapping":{
                  "type":"keyword"
               }
            }
         },
         {
            "docker.container.labels":{
               "path_match":"docker.container.labels.*",
               "match_mapping_type":"string",
               "mapping":{
                  "type":"keyword"
               }
            }
         },
         {
            "strings_as_keyword":{
               "match_mapping_type":"string",
               "mapping":{
                  "ignore_above":1024,
                  "type":"keyword"
               }
            }
         },
         {
            "message_field":{
               "path_match":"message",
               "match_mapping_type":"string",
               "mapping":{
                  "fields":{
                     "keyword":{
                        "ignore_above":10000,
                        "type":"keyword"
                     }
                  },
                  "norms":false,
                  "type":"text"
               }
            }
         },
         {
            "string_fields":{
               "match":"*",
               "match_mapping_type":"string",
               "mapping":{
                  "fields":{
                     "keyword":{
                        "ignore_above":256,
                        "type":"keyword"
                     }
                  },
                  "norms":false,
                  "type":"text"
               }
            }
         }
      ],
      "date_detection":false,
      "properties":{
         "@timestamp":{
            "type":"date"
         },
         "@version":{
            "type":"keyword",
            "ignore_above":1024
         },
         "agent":{
            "properties":{
               "ephemeral_id":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "hostname":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "id":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "name":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "type":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "version":{
                  "type":"keyword",
                  "ignore_above":1024
               }
            }
         },
         "date":{
            "type":"keyword",
            "ignore_above":1024
         },
         "error":{
            "properties":{
               "code":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "id":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "message":{
                  "type":"keyword"
               },
               "type":{
                  "type":"keyword",
                  "ignore_above":1024
               }
            }
         },
         "input":{
            "properties":{
               "type":{
                  "type":"keyword",
                  "ignore_above":1024
               }
            }
         },
         "kubernetes":{
            "properties":{
               "annotations":{
                  "type":"object"
               },
               "container":{
                  "properties":{
                     "image":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "name":{
                        "type":"keyword",
                        "ignore_above":1024
                     }
                  }
               },
               "deployment":{
                  "properties":{
                     "name":{
                        "type":"keyword",
                        "ignore_above":1024
                     }
                  }
               },
               "labels":{
                  "properties":{
                     "alertmanager":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "chart":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "controller-revision-hash":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "heritage":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "k8s-app":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "log_type":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "release":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "statefulset_kubernetes_io/pod-name":{
                        "type":"keyword",
                        "ignore_above":1024
                     }
                  }
               },
               "namespace":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "node":{
                  "properties":{
                     "name":{
                        "type":"keyword",
                        "ignore_above":1024
                     }
                  }
               },
               "pod":{
                  "properties":{
                     "name":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "uid":{
                        "type":"keyword",
                        "ignore_above":1024
                     }
                  }
               },
               "replicaset":{
                  "properties":{
                     "name":{
                        "type":"keyword",
                        "ignore_above":1024
                     }
                  }
               },
               "statefulset":{
                  "properties":{
                     "name":{
                        "type":"keyword",
                        "ignore_above":1024
                     }
                  }
               }
            }
         },
         "labels":{
            "type":"object"
         },
         "level":{
            "type":"keyword",
            "ignore_above":1024
         },
         "levelName":{
            "type":"keyword",
            "ignore_above":1024
         },
         "levelNo":{
            "type":"long"
         },
         "log":{
            "properties":{
               "file":{
                  "properties":{
                     "path":{
                        "type":"keyword",
                        "ignore_above":1024
                     }
                  }
               },
               "flags":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "level":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "offset":{
                  "type":"long"
               },
               "original":{
                  "type":"keyword",
                  "ignore_above":1024
               },
               "source":{
                  "properties":{
                     "address":{
                        "type":"keyword",
                        "ignore_above":1024
                     }
                  }
               }
            }
         },
         "loggerName":{
            "type":"keyword",
            "ignore_above":1024
         },
         "logstash":{
            "properties":{
               "log":{
                  "properties":{
                     "log_event":{
                        "type":"object"
                     },
                     "module":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "thread":{
                        "type":"keyword",
                        "fields":{
                           "text":{
                              "type":"text",
                              "norms":false
                           }
                        },
                        "ignore_above":1024
                     }
                  }
               },
               "slowlog":{
                  "properties":{
                     "event":{
                        "type":"keyword",
                        "fields":{
                           "text":{
                              "type":"text",
                              "norms":false
                           }
                        },
                        "ignore_above":1024
                     },
                     "module":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "plugin_name":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "plugin_params":{
                        "type":"keyword",
                        "fields":{
                           "text":{
                              "type":"text",
                              "norms":false
                           }
                        },
                        "ignore_above":1024
                     },
                     "plugin_params_object":{
                        "type":"object"
                     },
                     "plugin_type":{
                        "type":"keyword",
                        "ignore_above":1024
                     },
                     "thread":{
                        "type":"keyword",
                        "fields":{
                           "text":{
                              "type":"text",
                              "norms":false
                           }
                        },
                        "ignore_above":1024
                     },
                     "took_in_millis":{
                        "type":"long"
                     }
                  }
               }
            }
         },
         "message":{
            "type":"keyword",
            "ignore_above":1024
         },
         "environment":{
            "type":"keyword",
            "ignore_above":1024
         },
         "application":{
            "type":"keyword",
            "ignore_above":1024
         },
         "jenkins_build_url":{
            "type":"keyword",
            "ignore_above":1024
         },
         "jenkins_build_user":{
            "type":"keyword",
            "ignore_above":1024
         },
         "msg":{
            "type":"keyword",
            "ignore_above":1024
         },
         "related":{
            "properties":{
               "ip":{
                  "type":"ip"
               }
            }
         },
         "request_body":{
            "type":"keyword",
            "ignore_above":1024
         },
         "stream":{
            "type":"keyword",
            "ignore_above":1024
         },
         "tags":{
            "type":"keyword",
            "ignore_above":1024
         },
         "time":{
            "type":"keyword",
            "ignore_above":1024
         },
         "timeseries":{
            "properties":{
               "instance":{
                  "type":"keyword",
                  "ignore_above":1024
               }
            }
         },
         "timestamp":{
            "type":"keyword",
            "ignore_above":1024
         }
      }
   }
}
